<!DOCTYPE html>
<html lang="en">
  <head>
    <title>RenetikEvent  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>
    <a title="RenetikEvent  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html">RenetikEvent Docs</a> (0% documented)</p>
        <p class="header-right"><a href="https://github.com/renetik/renetik-ios-event"><img src="img/gh.png" alt="GitHub"/>View on GitHub</a></p>
        <div class="header-right">
          <form role="search" action="search.json">
            <input type="text" placeholder="Search documentation" data-typeahead>
          </form>
        </div>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html">RenetikEvent Reference</a>
        <img id="carat" src="img/carat.png" alt=""/>
        RenetikEvent  Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/CSEvent.html">CSEvent</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/CSEventListener.html">CSEventListener</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/CSEventOwnerBase.html">CSEventOwnerBase</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/CSEventProperty.html">CSEventProperty</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/CSEventPropertyImpl.html">CSEventPropertyImpl</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/CSRegistration.html">CSRegistration</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/CSRegistrations.html">CSRegistrations</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Functions.html">Functions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Functions.html#/s:12RenetikEvent5eventAA7CSEventCyxGylF">event()</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:12RenetikEvent5eventAA7CSEventCyytGyF">event()</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:12RenetikEvent8propertyyAA19CSEventPropertyImplCyxGx_yxcSgtSQRzlF">property(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:12RenetikEvent8propertyyAA19CSEventPropertyImplCyxGx_yyctSQRzlF">property(_:_:)</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Protocols/CSEventOwner.html">CSEventOwner</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/CSEventPropertyProtocol.html">CSEventPropertyProtocol</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols.html#/s:12RenetikEvent15CSPropertyStoreP">CSPropertyStore</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Structs/CSEventArgument.html">CSEventArgument</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <p><a href="https://github.com/renetik/renetik-ios-event/actions/workflows/objective-c-xcode.yml"><img src="https://github.com/renetik/renetik-ios-event/workflows/Xcode%20-%20Build%20Analyze%20Test/badge.svg" alt="Xcode - Build Analyze Test"></a></p>
<h1 id='renetik-ios-event-amp-property' class='heading'>Renetik iOS - Event &amp; Property</h1>
<h4 id='a-href-https-github-com-renetik-renetik-ios-event-https-github-com-renetik-renetik-ios-event-a' class='heading'><a href="https://github.com/renetik/renetik-ios-event/">https://github.com/renetik/renetik-ios-event</a></h4>
<h3 id='a-href-https-renetik-github-io-renetik-ios-event-documentation-a' class='heading'><a href="https://renetik.github.io/renetik-ios-event/">Documentation</a></h3>

<p>Framework to enjoy, improve and speed up your application development while writing readable code.
Used as library in many projects and improving it while developing new projects.
I am open for <a href="https://renetik.github.io">Hire</a> or investment in my mobile app music production &amp; perfromance project Renetik Instruments <a href="http://www.renetik.com">www.renetik.com</a>.</p>
<h2 id='installation' class='heading'>Installation</h2>

<p>You can install using swift package manager for now using latest released version or master.</p>
<h2 id='examples' class='heading'>Examples</h2>
<pre class="highlight plaintext"><code>/**
 * Simple event use cases
 */
final class EventTests: XCTestCase {

    func testListen() throws {
        let event = event()
        var count = 0
        event.listen { count += 1 }
        event.fire()
        event.fire()
        XCTAssertEqual(count, 2)
    }

    func testArgListen() throws {
        let event: CSEvent&lt;Int&gt; = event()
        var count = 0
        event.listen { count += $0 }
        event.fire(2)
        event.fire(3)
        XCTAssertEqual(count, 5)
    }

    func testListenOnce() throws {
        let event = event()
        var count = 0
        event.listenOnce { count += 1 }
        event.fire()
        event.fire()
        XCTAssertEqual(count, 1)
    }

    func testArgListenOnce() throws {
        let event = event()
        var count = 0
        event.listenOnce { count += 1 }
        event.fire()
        event.fire()
        XCTAssertEqual(count, 1)
    }

    func testEventCancel() throws {
        let event = event()
        var count = 0
        event.listen { registration, _ in
            count += 1
            if count == 2 { registration.cancel() }
        }
        event.fire()
        event.fire()
        event.fire()
        XCTAssertEqual(count, 2)
    }

    func testStringEventCancel() throws {
        let event: CSEvent&lt;String&gt; = event()
        var value: String? = nil
        event.listen {
            $0.cancel()
            value = $1
        }
        event.fire("first")
        XCTAssertEqual("first", value)
        event.fire("second")
    }

    func testEventPause() throws {
        let event = event()
        var count = 0
        let registration = event.listen { count += 1 }
        registration.pause { event.fire() }
        XCTAssertEqual(count, 0)
        event.fire()
        XCTAssertEqual(count, 1)
    }
}
</code></pre>
<pre class="highlight plaintext"><code>/**
 * Simple event property use cases
 */
class EventPropertyTests: XCTestCase {

    func testOnChange() throws {
        let property = property("initial")
        var count = 0
        property.onChange { count += 1 }
        property.value = "second"
        property.value = "third"
        XCTAssertEqual(count, 2)
        XCTAssertEqual("third", property.value)
    }

    func testOnApply() throws {
        var count = 0
        let property = property("initial") { _ in count += 1 }.apply()
        property.value = "second"
        property.value = "third"
        XCTAssertEqual(count, 3)
        XCTAssertEqual("third", property.value)
    }

    func testArgListen() throws {
        var count = 0
        let property = property(0) { count += 1 }
        property.value += 2
        property.value += 3
        XCTAssertEqual(5, property.value)
        XCTAssertEqual(2, count)
    }

    func testEquals() throws {
        var count = 0
        let property = property(""){ count += 1 }
        property.value = "second"
        property.value = "second"
        XCTAssertEqual(count, 1)
        XCTAssertEqual("second", property.value)
    }

    func testOnChangeOnce() throws {
        var count = 0
        let property = property("")
        property.onChangeOnce { count += 1 }
        property.value = "second"
        property.value = "third"
        XCTAssertEqual(count, 1)
        XCTAssertEqual("third", property.value)
    }

    func testEventCancel() throws {
        var count = 0
        let property = property(0)
        property.onChange { registration, value in
            count += value
            if count &gt; 2 { registration.cancel() }
        }
        property.value = 1
        property.value = 2
        property.value = 3
        XCTAssertEqual(count, 3)
    }

    func testEventPause() throws {
        var count = 0
        let property = property(0)
        let registration = property.onChange { count += $1 }
        registration.pause { property.value = 1 }
        XCTAssertEqual(count, 0)
        property.value = 2
        XCTAssertEqual(count, 2)
    }
}
</code></pre>
<pre class="highlight plaintext"><code>/**
 * Event unregister after owner niled
 */
final class EventOwnerEventTest: XCTestCase {

    func testUnregisteredAfterNiled() throws {
        var owner: CSEventOwner? = CSEventOwnerBase()
        let event = event()
        var count = 0
        owner!.register(event.listen { count += 1 })
        event.fire()
        event.fire()
        XCTAssertEqual(count, 2)
        owner = nil
        event.fire()
        XCTAssertEqual(count, 2)
    }
}
</code></pre>
<pre class="highlight plaintext"><code>/**
 * Event property unregister after owner niled
 */
class EventOwnerPropertyTest: XCTestCase {
    class SomeClass: CSEventOwnerBase {
        let string = property("initial value")
        init(argument: SomeClass? = nil) {
            super.init()
            register(argument?.string.onChange { [unowned self] in string.value = $0 })
        }
    }
    func testUnregisteredAfterNiled() throws {
        let instance1 = SomeClass()
        var instance2: SomeClass? = SomeClass(argument: instance1)
        let instance3 = SomeClass(argument: instance2)
        XCTAssertEqual(instance3.string.value, "initial value")
        instance1.string.value = "first value"
        XCTAssertEqual(instance3.string.value, "first value")
        instance2 = nil
        instance1.string.value = "second value"
        XCTAssertEqual(instance3.string.value, "first value")
    }
}
</code></pre>

          </section>
        </section>
        <section id="footer">
          <p>&copy; 2022 <a class="link" href="https://renetik.github.io" target="_blank" rel="external noopener">Renetik</a>. All rights reserved. (Last updated: 2022-06-30)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external noopener">jazzy ♪♫ v0.14.2</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external noopener">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</html>
